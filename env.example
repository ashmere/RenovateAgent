# RenovateAgent Configuration Example
# Copy this file to .env and customize for your environment

# ================================================================
# GITHUB AUTHENTICATION
# ================================================================

# For Local Development (Personal Access Token - recommended for testing)
GITHUB_APP_ID=0
GITHUB_PERSONAL_ACCESS_TOKEN=ghp_your_token_here

# For Production (GitHub App - required for production)
# GITHUB_APP_ID=123456
# GITHUB_APP_PRIVATE_KEY_PATH=/path/to/private-key.pem

# Common Configuration
GITHUB_ORGANIZATION=your-org-or-username
GITHUB_WEBHOOK_SECRET=your-webhook-secret

# ================================================================
# OPERATION MODE CONFIGURATION
# ================================================================

# DEFAULT FOR LOCAL TESTING: Polling Mode (works behind firewalls)
ENABLE_POLLING=true
ENABLE_WEBHOOKS=false

# FOR PRODUCTION: Typically webhook mode (or dual mode for reliability)
# ENABLE_POLLING=false
# ENABLE_WEBHOOKS=true

# FOR MAXIMUM RELIABILITY: Dual mode (both enabled)
# ENABLE_POLLING=true
# ENABLE_WEBHOOKS=true

# ================================================================
# POLLING CONFIGURATION
# ================================================================

# Polling behavior (only used when ENABLE_POLLING=true)
POLLING_INTERVAL_MINUTES=2                    # How often to check repositories
POLLING_MAX_CONCURRENT_REPOS=5                # Concurrent repository processing
POLLING_RATE_LIMIT_BUFFER=1000               # API calls to reserve
POLLING_ENABLE_ADAPTIVE_INTERVAL=true        # Adjust interval based on activity

# Rate limiting
GITHUB_API_RATE_LIMIT=5000                   # API calls per hour
POLLING_RATE_LIMIT_THRESHOLD=0.8             # Throttle at 80% usage

# ================================================================
# REPOSITORY CONFIGURATION
# ================================================================

# Test repositories for local development
GITHUB_TEST_REPOSITORIES=your-org/repo1,your-org/repo2

# Repositories for polling (if different from test repos)
POLLING_REPOSITORIES=your-org/repo1,your-org/repo2

# Optional: Restrict to specific repositories (comma-separated)
# GITHUB_REPOSITORY_ALLOWLIST=repo1,repo2,repo3

# ================================================================
# DEPENDENCY FIXING CONFIGURATION
# ================================================================

ENABLE_DEPENDENCY_FIXING=true
SUPPORTED_LANGUAGES=python,typescript,go
CLONE_TIMEOUT=300
DEPENDENCY_UPDATE_TIMEOUT=600

# ================================================================
# SERVER CONFIGURATION
# ================================================================

# Local development (polling mode)
HOST=127.0.0.1
PORT=8000

# Production (webhook mode)
# HOST=0.0.0.0
# PORT=8000

# ================================================================
# LOGGING AND DEBUGGING
# ================================================================

# Local development
DEBUG=true
LOG_LEVEL=INFO
LOG_FORMAT=console

# Production
# DEBUG=false
# LOG_LEVEL=WARNING
# LOG_FORMAT=json

# ================================================================
# DASHBOARD CONFIGURATION
# ================================================================

# Controls when dashboard issues are created
DASHBOARD_CREATION_MODE=renovate-only  # Options: test, any, none, renovate-only

# ================================================================
# EXAMPLE CONFIGURATIONS
# ================================================================

# LOCAL DEVELOPMENT (Polling Mode - Default)
# GITHUB_APP_ID=0
# GITHUB_PERSONAL_ACCESS_TOKEN=ghp_your_token
# GITHUB_ORGANIZATION=your-username
# ENABLE_POLLING=true
# ENABLE_WEBHOOKS=false
# POLLING_INTERVAL_MINUTES=2
# HOST=127.0.0.1

# PRODUCTION (Webhook Mode)
# GITHUB_APP_ID=123456
# GITHUB_APP_PRIVATE_KEY_PATH=/app/private-key.pem
# GITHUB_WEBHOOK_SECRET=production-secret
# GITHUB_ORGANIZATION=your-org
# ENABLE_POLLING=false
# ENABLE_WEBHOOKS=true
# HOST=0.0.0.0

# PRODUCTION (Dual Mode - Maximum Reliability)
# GITHUB_APP_ID=123456
# GITHUB_APP_PRIVATE_KEY_PATH=/app/private-key.pem
# GITHUB_WEBHOOK_SECRET=production-secret
# GITHUB_ORGANIZATION=your-org
# ENABLE_POLLING=true
# ENABLE_WEBHOOKS=true
# POLLING_INTERVAL_MINUTES=5
# HOST=0.0.0.0

# CORPORATE FIREWALL (Polling Only)
# GITHUB_APP_ID=123456
# GITHUB_APP_PRIVATE_KEY_PATH=/app/private-key.pem
# GITHUB_ORGANIZATION=your-org
# ENABLE_POLLING=true
# ENABLE_WEBHOOKS=false
# POLLING_INTERVAL_MINUTES=2
# HOST=0.0.0.0 
